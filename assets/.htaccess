# .htaccess file - Place this in your /assets folder
# Improved protection that's more reliable than HTTP_REFERER

RewriteEngine On

# Method 1: Block direct access completely (Most Secure)
# This blocks ALL direct access to CSS/JS files
RewriteCond %{THE_REQUEST} \s/+assets/(css|js)/[^\s]* [NC]
RewriteRule ^(css|js)/.*\.(css|js)$ /404.html [R=404,L]

# Method 2: Alternative - Use environment variables
# SetEnvIf Referer "^https://harys\.is-a\.dev" allowed_referer
# RewriteCond %{ENV:allowed_referer} !^1$
# RewriteRule ^(css|js)/.*\.(css|js)$ /404.html [R=404,L]

# Method 3: Block empty referer (direct typing)
# RewriteCond %{HTTP_REFERER} ^$
# RewriteRule ^(css|js)/.*\.(css|js)$ /404.html [R=404,L]

# Method 4: More specific blocking
# Block if not from your domain AND not empty referer
# RewriteCond %{HTTP_REFERER} !^$
# RewriteCond %{HTTP_REFERER} !harys\.is-a\.dev [NC]
# RewriteRule ^(css|js)/.*\.(css|js)$ /404.html [R=404,L]
