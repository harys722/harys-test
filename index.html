<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta charset="UTF-8">

    <!-- HTML Meta Tags -->
    <title>GitHub Guides</title>
    <meta name="description" content="Learn more about GitHub & GitHub pages as a developer.">

    <!-- Google / Search Engine Tags -->
    <meta itemprop="name" content="GitHub Guides">
    <meta itemprop="description" content="Learn more about GitHub & GitHub pages as a developer.">
    <meta itemprop="image" content="https://harys722.github.io/github-guides/src/media/logo.png">

    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://harys722.github.io/github-guides/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="GitHub Guides">
    <meta property="og:description" content="Learn more about GitHub & GitHub pages as a developer.">
    <meta property="og:image" content="https://harys722.github.io/github-guides/src/media/logo.png">

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="GitHub Guides">
    <meta name="twitter:description" content="Learn more about GitHub & GitHub pages as a developer.">
    <meta name="twitter:image" content="https://harys722.github.io/github-guides/src/media/logo.png">

    <!-- Favicon -->
    <link rel="shortcut icon" href="favicon.ico">
    
    <!-- Marked.js for Markdown parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>
    
    <style>
      :root {
        /* Light theme (Golden sunrise) */
        --base-color: #B8860B;
        --base-bg: #FFFBF0;
        --primary: #FFD700;
        --success: #ADFF2F;
        --danger: #FF1493;
        --warning: #FF6347;
        --royal: #8A2BE2;
        --accent: #FFA500;
        --sidebar-bg: #FFFBF0;
        --sidebar-border: rgba(184, 134, 11, 0.1);
        --text-color: #333333;
        --sidebar-text-color: #B8860B;
        --text-light: rgba(51, 51, 51, 0.7);
        --blockquote-bg: rgba(255, 215, 0, 0.15);
        --blockquote-border: #FFD700;
        --code-bg: rgba(255, 215, 0, 0.1);
        --code-color: #B8860B;
        --pre-bg: #FFFBF0;
        --pre-border: rgba(255, 215, 0, 0.2);
        --scrollbar-track: #F5F5DC;
        --scrollbar-thumb: #FFD700;
        --scrollbar-thumb-hover: #FFA500;
        --logo-url: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23B8860B"><path d="M12 0C5.374 0 0 5.373 0 12 0 17.302 3.438 21.8 8.207 23.387c.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0 1 12 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>');
        --button-bg: rgba(255, 215, 0, 0.9);
        --button-text: #8B4513;
        --button-hover: rgba(255, 165, 0, 0.95);
      }

      [data-theme="dark"] {
        /* Dark theme (Midnight gold) */
        --base-color: #FFD700;
        --base-bg: #0A0A0A;
        --primary: #FFFF00;
        --success: #00FF7F;
        --danger: #FF0080;
        --warning: #FF4500;
        --royal: #9370DB;
        --accent: #FFA500;
        --sidebar-bg: #111111;
        --sidebar-border: rgba(255, 215, 0, 0.2);
        --text-color: #FFFFFF;
        --sidebar-text-color: #FFD700;
        --text-light: rgba(255, 255, 255, 0.7);
        --blockquote-bg: rgba(255, 255, 0, 0.1);
        --blockquote-border: #FFFF00;
        --code-bg: rgba(255, 255, 0, 0.1);
        --code-color: #FFD700;
        --pre-bg: #1a1a1a;
        --pre-border: rgba(255, 255, 0, 0.3);
        --scrollbar-track: #1a1a1a;
        --scrollbar-thumb: #FFD700;
        --scrollbar-thumb-hover: #FFFF00;
        --logo-url: url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23FFFFFF"><path d="M12 0C5.374 0 0 5.373 0 12 0 17.302 3.438 21.8 8.207 23.387c.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0 1 12 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>');
        --button-bg: rgba(255, 215, 0, 0.9);
        --button-text: #000000;
        --button-hover: rgba(255, 255, 0, 0.95);
      }

      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Source Sans Pro", "Helvetica Neue", Arial, sans-serif;
        font-size: 15px;
        color: var(--text-color);
        background-color: var(--base-bg);
        margin: 0;
        padding: 0;
        line-height: 1.6;
        transition: all 0.25s ease;
      }

      .app {
        display: flex;
        min-height: 100vh;
      }

      .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        width: 300px;
        background-color: var(--sidebar-bg);
        border-right: 1px solid var(--sidebar-border);
        overflow-y: auto;
        z-index: 20;
        transition: all 0.25s ease;
        padding: 0;
      }

      .sidebar.hidden {
        transform: translateX(-300px);
      }

      .sidebar-nav {
        padding: 5px 0 5px 25px;
        margin: 0;
      }

      .sidebar-nav > ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .sidebar-nav li {
        margin: 0;
        position: relative;
      }

      .sidebar-nav a {
        border-bottom: none;
        color: var(--sidebar-text-color);
        display: block;
        font-size: 14px;
        overflow: hidden;
        padding: 0;
        text-decoration: none;
        text-overflow: ellipsis;
        white-space: nowrap;
        font-weight: 400;
        transition: all 0.25s ease;
      }

      .sidebar-nav a:hover {
        color: var(--primary);
        text-decoration: underline;
      }

      .sidebar-nav a.active {
        color: var(--primary);
        font-weight: 600;
        border-right: 2px solid var(--primary);
      }

      .toc-title {
        font-weight: 600;
        margin-top: 30px;
        margin-bottom: 15px;
        color: var(--sidebar-text-color);
        font-size: 14px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .toc-h1 {
        margin-left: 0;
        font-weight: 600;
        font-size: 13px;
        line-height: 1.4;
        margin-top: 12px;
        margin-bottom: 8px;
      }

      .toc-h2 {
        margin-left: 20px;
        font-size: 12px;
        line-height: 1.3;
        margin-top: 6px;
        margin-bottom: 4px;
      }

      .toc-h3 {
        margin-left: 40px;
        font-size: 11px;
        line-height: 1.3;
        margin-top: 4px;
        margin-bottom: 2px;
      }

      .app-name {
        font-size: 1.5rem;
        font-weight: 300;
        margin: 0 0 10px 0;
        color: var(--sidebar-text-color);
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .app-name a {
        color: var(--sidebar-text-color);
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .app-name-link {
        display: block;
        padding: 40px 25px 10px 25px;
        border-bottom: 1px solid var(--sidebar-border);
        margin-bottom: 40px;
      }

      .logo {
        width: 32px;
        height: 32px;
        background-image: var(--logo-url);
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        flex-shrink: 0;
      }

      .content {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 300px;
        overflow-y: auto;
        transition: left 0.25s ease;
      }

      .content.expanded {
        left: 0;
      }

      .markdown-section {
        margin: 0 auto;
        max-width: 800px;
        padding: 30px 15px 40px 15px;
        position: relative;
      }

      .controls {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
        display: flex;
        gap: 10px;
        align-items: center;
      }

      .control-toggle {
        width: 40px;
        height: 40px;
        background: var(--button-bg);
        color: var(--button-text);
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        position: relative;
        overflow: hidden;
        font-weight: 600;
      }

      .theme-toggle::after {
        content: '‚òÄÔ∏è';
      }

      [data-theme="dark"] .theme-toggle::after {
        content: 'üåô';
      }

      .control-toggle:hover {
        background: var(--button-hover);
        transform: scale(1.1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
      }

      .control-toggle:active {
        transform: scale(0.95);
      }

      .sidebar-toggle {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1000;
        width: 40px;
        height: 40px;
        background: var(--button-bg);
        color: var(--button-text);
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        font-weight: 600;
        opacity: 0;
        pointer-events: none;
        transform: scale(0.8);
      }

      .sidebar-toggle.visible {
        opacity: 1;
        pointer-events: auto;
        transform: scale(1);
      }

      .sidebar-toggle:hover {
        background: var(--button-hover);
        transform: scale(1.1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
      }

      .sidebar-toggle:active {
        transform: scale(0.95);
      }

      .sidebar-hide-btn {
        position: absolute;
        top: 20px;
        right: 15px;
        width: 30px;
        height: 30px;
        background: var(--button-bg);
        color: var(--button-text);
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        transition: all 0.3s ease;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        font-weight: 600;
        z-index: 25;
      }

      .sidebar-hide-btn:hover {
        background: var(--button-hover);
        transform: scale(1.1);
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
      }

      .sidebar-hide-btn:active {
        transform: scale(0.9);
      }

      h1, h2, h3, h4, h5, h6 {
        color: var(--text-color);
        font-weight: 600;
        line-height: 1.25;
        margin: 0 0 1rem 0;
        scroll-margin-top: 70px;
      }

      h1 {
        font-size: 2rem;
        margin: 0 0 1rem 0;
      }

      h2 {
        font-size: 1.75rem;
        padding-bottom: 0.3rem;
        border-bottom: 1px solid var(--sidebar-border);
        margin: 2rem 0 1rem 0;
      }

      h3 {
        font-size: 1.5rem;
        margin: 1.5rem 0 1rem 0;
      }

      h4 {
        font-size: 1.25rem;
      }

      h5 {
        font-size: 1rem;
      }

      h6 {
        font-size: 0.875rem;
        color: var(--text-light);
      }

      p {
        margin-bottom: 1rem;
        color: var(--text-color);
        line-height: 1.6;
      }

      img {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 1rem auto;
        border-radius: 4px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        cursor: zoom-in;
      }

      .markdown-section img {
        max-height: 400px;
        width: auto;
        object-fit: contain;
      }

      .markdown-section img[src*="screenshot"],
      .markdown-section img[src*="banner"],
      .markdown-section img[width],
      .markdown-section img[height] {
        max-height: 300px;
        max-width: 80%;
      }

      .image-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
      }

      .image-modal.active {
        opacity: 1;
        visibility: visible;
      }

      .image-modal img {
        max-width: 90%;
        max-height: 90%;
        object-fit: contain;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }

      .image-modal-close {
        position: absolute;
        top: 20px;
        right: 20px;
        width: 40px;
        height: 40px;
        background: var(--button-bg);
        color: var(--button-text);
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      }

      .image-modal-close:hover {
        background: var(--button-hover);
        transform: scale(1.1);
      }

      a {
        color: var(--primary);
        text-decoration: none;
        transition: color 0.25s ease;
      }

      a:hover {
        color: var(--accent);
        text-decoration: underline;
      }

      code {
        background-color: var(--code-bg);
        border-radius: 3px;
        color: var(--code-color);
        font-family: "Roboto Mono", Monaco, courier, monospace;
        font-size: 0.85rem;
        margin: 0 2px;
        padding: 3px 6px;
        white-space: pre-wrap;
        font-weight: 500;
      }

      pre {
        background-color: var(--pre-bg);
        border: 1px solid var(--pre-border);
        border-radius: 6px;
        font-family: "Roboto Mono", Monaco, courier, monospace;
        line-height: 1.5rem;
        margin: 1.2em 0;
        overflow: auto;
        padding: 0;
        word-wrap: normal;
        position: relative;
      }

      pre > code {
        background-color: transparent;
        border-radius: 0;
        color: var(--code-color);
        font-size: 0.85rem;
        margin: 0;
        padding: 1.2rem 1.4rem;
        white-space: pre;
        display: block;
        font-weight: 500;
      }

      .code-container {
        position: relative;
        margin: 1.2em 0;
      }

      .copy-button {
        position: absolute;
        top: 8px;
        right: 8px;
        background: var(--primary);
        color: var(--base-bg);
        border: none;
        border-radius: 4px;
        padding: 4px 8px;
        font-size: 12px;
        cursor: pointer;
        opacity: 0;
        transition: opacity 0.2s ease;
        font-family: inherit;
        font-weight: 500;
      }

      .code-container:hover .copy-button {
        opacity: 1;
      }

      .copy-button:hover {
        background: var(--accent);
      }

      .copy-button.copied {
        background: var(--success);
      }

      blockquote {
        border-left: 4px solid var(--blockquote-border);
        color: var(--text-color);
        margin: 1.5rem 0;
        padding: 0 1rem;
        background-color: var(--blockquote-bg);
        border-radius: 0 4px 4px 0;
      }

      blockquote p {
        font-weight: 600;
        margin-left: 0;
        color: var(--text-color);
      }

      blockquote:first-of-type {
        background-color: rgba(255, 215, 0, 0.2);
        border-left-color: var(--accent);
      }

      [data-theme="dark"] blockquote:first-of-type {
        background-color: rgba(255, 255, 0, 0.15);
        border-left-color: var(--warning);
      }

      ul, ol {
        line-height: 1.6rem;
        padding-left: 1.5rem;
        margin: 1rem 0;
      }

      li {
        margin: 0.25rem 0;
        color: var(--text-color);
      }

      li p {
        margin: 0.5rem 0;
      }

      table {
        border-collapse: collapse;
        border-spacing: 0;
        display: block;
        margin-bottom: 1rem;
        overflow: auto;
        width: 100%;
      }

      table th {
        background-color: var(--code-bg);
        border: 1px solid var(--pre-border);
        font-weight: 600;
        padding: 6px 13px;
        color: var(--text-color);
      }

      table td {
        border: 1px solid var(--pre-border);
        padding: 6px 13px;
        color: var(--text-color);
      }

      table tr {
        background-color: var(--base-bg);
        border-top: 1px solid var(--pre-border);
      }

      table tr:nth-child(2n) {
        background-color: var(--code-bg);
      }

      .loading {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 200px;
        font-size: 16px;
        color: var(--text-light);
      }

      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }

      ::-webkit-scrollbar-track {
        background: var(--scrollbar-track);
      }

      ::-webkit-scrollbar-thumb {
        background: var(--scrollbar-thumb);
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: var(--scrollbar-thumb-hover);
      }

      @media screen and (max-width: 768px) {
        .sidebar {
          transform: translateX(-300px);
        }

        .sidebar.open {
          transform: translateX(0);
        }

        .content {
          left: 0;
        }

        .markdown-section {
          padding: 80px 15px 40px 15px;
        }

        .controls {
          top: 20px;
          right: 15px;
        }

        .control-toggle {
          width: 35px;
          height: 35px;
          font-size: 16px;
        }

        .sidebar-toggle {
          width: 35px;
          height: 35px;
          font-size: 16px;
        }

        .sidebar-hide-btn {
          display: none;
        }

        .markdown-section img {
          max-height: 250px;
        }
      }

      @media screen and (min-width: 769px) {
        .sidebar.hidden + .content {
          left: 0;
        }

        .sidebar.hidden ~ .sidebar-toggle {
          opacity: 1;
          pointer-events: auto;
          transform: scale(1);
        }
      }

      .repo-link {
        color: var(--text-light);
        font-size: 12px;
        text-decoration: none;
        display: block;
        margin-top: 10px;
      }

      .repo-link:hover {
        color: var(--primary);
      }

      html {
        scroll-behavior: smooth;
      }

      #toc-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      #toc-list li {
        margin: 0;
        padding: 0;
      }

      #toc-list a {
        display: block;
        padding: 5px 0;
        color: var(--sidebar-text-color);
        text-decoration: none;
        border-bottom: none;
        line-height: 1.4;
        transition: color 0.25s ease;
      }

      #toc-list a:hover {
        color: var(--primary);
        text-decoration: none;
      }

      #toc-list a.active {
        color: var(--primary);
        font-weight: 600;
      }

      #toc-list .toc-h1 a {
        font-size: 13px;
        font-weight: 600;
        padding: 8px 0;
      }

      #toc-list .toc-h2 a {
        font-size: 12px;
        font-weight: 400;
        padding: 6px 0;
      }

      #toc-list .toc-h3 a {
        font-size: 11px;
        font-weight: 400;
        padding: 4px 0;
      }
    </style>
  </head>

  <body>
    <div class="sidebar-toggle" id="sidebarToggle" onclick="toggleSidebar()">‚ûù</div>
    
    <div class="controls">
      <div class="control-toggle theme-toggle" onclick="toggleTheme()" title="Toggle Theme"></div>
    </div>

    <div class="app">
      <aside class="sidebar" id="sidebar">
        <button class="sidebar-hide-btn" onclick="toggleSidebar()" title="Hide Sidebar">‚§∂</button>
        
        <div class="app-name-link">
          <h1 class="app-name">
            <a href="#/" onclick="loadMarkdown('https://raw.githubusercontent.com/harys722/github-guides/main/README.md')">
              <div class="logo"></div>
              GitHub Guides
            </a>
          </h1>
          <a href="https://github.com/harys722/github-guides" class="repo-link" target="_blank">
            üìö harys722/github-guides
          </a>
        </div>
        
        <nav class="sidebar-nav">
          <ul>
            <li><a href="#/" class="active" onclick="loadMarkdown('https://raw.githubusercontent.com/harys722/github-guides/main/README.md')">üìñ Home</a></li>
          </ul>
          
          <div id="toc-container">
            <div class="toc-title">Table of Contents</div>
            <ul id="toc-list"></ul>
          </div>
        </nav>
      </aside>

      <main class="content" id="content">
        <div class="markdown-section" id="main">
          <div class="loading" id="loading">Loading...</div>
          <div id="markdown-content"></div>
        </div>
      </main>
    </div>

    <div class="image-modal" id="imageModal">
      <button class="image-modal-close" onclick="closeImageModal()">‚úï</button>
      <img id="modalImage" src="" alt="Zoomed image">
    </div>

    <script>
      // Global variables
      let currentMarkdown = '';
      let tocItems = [];
      let isDesktop = window.innerWidth > 768;

      // Initialize marked.js with GFM support
      marked.setOptions({
        gfm: true,
        breaks: true,
        headerIds: true,
        headerPrefix: ''
      });

      // Debounce function to limit scroll events
      function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }

      // Check if URL is external
      function isExternalLink(url) {
        try {
          const link = new URL(url, window.location.origin);
          return link.hostname !== window.location.hostname;
        } catch (e) {
          // If URL parsing fails, assume it's an internal link
          return false;
        }
      }

      // Initialize the application
      document.addEventListener('DOMContentLoaded', function() {
        loadTheme();
        initializeSidebar();
        loadDefaultContent();
        setupScrollListener();
        setupResizeListener();
        updateSidebarToggleVisibility();
      });

      // Load saved theme
      function loadTheme() {
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.body.setAttribute('data-theme', savedTheme);
        updateLogo(savedTheme);
      }

      // Update logo based on theme
      function updateLogo(theme) {
        const root = document.documentElement;
        if (theme === 'dark') {
          root.style.setProperty('--logo-url', 'url("data:image/svg+xml;charset=utf-8,<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 24 24\\" fill=\\"%23FFFFFF\\"><path d=\\"M12 0C5.374 0 0 5.373 0 12 0 17.302 3.438 21.8 8.207 23.387c.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0 1 12 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z\\"/></svg>")');
        } else {
          root.style.setProperty('--logo-url', 'url("data:image/svg+xml;charset=utf-8,<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 24 24\\" fill=\\"%23B8860B\\"><path d=\\"M12 0C5.374 0 0 5.373 0 12 0 17.302 3.438 21.8 8.207 23.387c.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0 1 12 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z\\"/></svg>")');
        }
      }

      // Toggle theme
      function toggleTheme() {
        const currentTheme = document.body.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        document.body.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        updateLogo(newTheme);
      }

      // Initialize sidebar state
      function initializeSidebar() {
        const sidebar = document.getElementById('sidebar');
        const savedSidebarState = localStorage.getItem('sidebarHidden');
        
        if (isDesktop && savedSidebarState === 'true') {
          sidebar.classList.add('hidden');
          document.getElementById('content').classList.add('expanded');
        }
        
        updateSidebarToggleVisibility();
      }

      // Toggle sidebar visibility
      function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        const content = document.getElementById('content');
        const sidebarToggle = document.getElementById('sidebarToggle');
        
        if (isDesktop) {
          sidebar.classList.toggle('hidden');
          content.classList.toggle('expanded');
          
          const isHidden = sidebar.classList.contains('hidden');
          localStorage.setItem('sidebarHidden', isHidden);
          
          if (isHidden) {
            sidebarToggle.classList.add('visible');
          } else {
            sidebarToggle.classList.remove('visible');
          }
        } else {
          sidebar.classList.toggle('open');
        }
      }

      // Update sidebar toggle visibility
      function updateSidebarToggleVisibility() {
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebarToggle');
        
        if (isDesktop) {
          if (sidebar.classList.contains('hidden')) {
            sidebarToggle.classList.add('visible');
          } else {
            sidebarToggle.classList.remove('visible');
          }
        } else {
          sidebarToggle.classList.add('visible');
        }
      }

      // Setup resize listener
      function setupResizeListener() {
        window.addEventListener('resize', function() {
          const wasDesktop = isDesktop;
          isDesktop = window.innerWidth > 768;
          
          if (wasDesktop !== isDesktop) {
            const sidebar = document.getElementById('sidebar');
            const content = document.getElementById('content');
            
            if (isDesktop) {
              sidebar.classList.remove('open');
              const savedSidebarState = localStorage.getItem('sidebarHidden');
              if (savedSidebarState === 'true') {
                sidebar.classList.add('hidden');
                content.classList.add('expanded');
              }
            } else {
              sidebar.classList.remove('hidden');
              content.classList.remove('expanded');
            }
            
            updateSidebarToggleVisibility();
          }
        });
      }

      // Load default content
      function loadDefaultContent() {
        loadMarkdown('https://raw.githubusercontent.com/harys722/github-guides/main/README.md');
      }

      // Load markdown content
      async function loadMarkdown(url) {
        const loadingEl = document.getElementById('loading');
        const contentEl = document.getElementById('markdown-content');
        
        loadingEl.style.display = 'flex';
        contentEl.innerHTML = '';
        
        try {
          const response = await fetch(url);
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          
          const markdown = await response.text();
          currentMarkdown = markdown;
          
          const html = marked.parse(markdown);
          
          loadingEl.style.display = 'none';
          contentEl.innerHTML = html;
          
          processContent();
          generateTOC();
          addCopyButtons();
          updateActiveNavItem(url);
          
        } catch (error) {
          console.error('Error loading markdown:', error);
          loadingEl.style.display = 'none';
          contentEl.innerHTML = `
            <div style="text-align: center; padding: 40px;">
              <h2>Error Loading Content</h2>
              <p>Could not load the markdown file. Please check the URL and try again.</p>
              <p style="color: var(--text-light); font-size: 14px;">Error: ${error.message}</p>
            </div>
          `;
        }
      }

      // Process content after loading
      function processContent() {
        const content = document.getElementById('markdown-content');
        
        // Add IDs to headings
        const headings = content.querySelectorAll('h1, h2, h3');
        headings.forEach(heading => {
          if (!heading.id) {
            heading.id = generateId(heading.textContent);
          }
        });
        
        // Add click handlers to images
        const images = content.querySelectorAll('img');
        images.forEach(img => {
          img.style.maxWidth = '100%';
          img.style.height = 'auto';
          img.style.cursor = 'zoom-in';
          img.addEventListener('click', () => openImageModal(img.src));
        });
        
        // Process all links to handle external links
        const links = content.querySelectorAll('a');
        links.forEach(link => {
          const href = link.getAttribute('href');
          if (href) {
            // Handle internal hash links
            if (href.startsWith('#')) {
              link.onclick = function(e) {
                e.preventDefault();
                const id = href.substring(1);
                scrollToHeading(id);
              };
            }
            // Handle external links
            else if (isExternalLink(href)) {
              link.setAttribute('target', '_blank');
              link.setAttribute('rel', 'noopener noreferrer');
            }
          }
        });
      }

      // Generate ID from text
      function generateId(text) {
        return text
          .toLowerCase()
          .replace(/[^\w\s-]/g, '')
          .replace(/\s+/g, '-')
          .replace(/--+/g, '-')
          .trim();
      }

      // Generate Table of Contents
      function generateTOC() {
        const content = document.getElementById('markdown-content');
        const tocList = document.getElementById('toc-list');
        const headings = content.querySelectorAll('h1, h2, h3');
        
        tocItems = [];
        tocList.innerHTML = '';
        
        if (headings.length === 0) {
          return;
        }
        
        headings.forEach((heading, index) => {
          const level = parseInt(heading.tagName.charAt(1));
          const text = heading.textContent.trim();
          const id = heading.id || generateId(text);
          
          if (!heading.id) {
            heading.id = id;
          }
          
          const tocItem = {
            id: id,
            text: text,
            level: level,
            element: heading
          };
          
          tocItems.push(tocItem);
          
          const li = document.createElement('li');
          li.className = `toc-h${level}`;
          
          const a = document.createElement('a');
          a.href = `#${id}`;
          a.textContent = text;
          a.onclick = function(e) {
            e.preventDefault();
            scrollToHeading(id);
          };
          
          li.appendChild(a);
          tocList.appendChild(li);
        });
        
        updateActiveTOCItem();
      }

      // Scroll to heading
      function scrollToHeading(id) {
        // Decode the ID to handle special characters
        const decodedId = decodeURIComponent(id);
        const element = document.getElementById(decodedId);
        if (element) {
          const offset = 80;
          const elementPosition = element.offsetTop;
          const offsetPosition = elementPosition - offset;
          
          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });
          
          setTimeout(() => {
            updateActiveTOCItem();
          }, 100);
          
          history.pushState(null, null, `#${decodedId}`);
        } else {
          console.warn(`Element with ID "${decodedId}" not found`);
        }
      }

      // Setup scroll listener for TOC
      function setupScrollListener() {
        const debouncedUpdate = debounce(updateActiveTOCItem, 100);
        window.addEventListener('scroll', debouncedUpdate);
      }

      // Update active TOC item
      function updateActiveTOCItem() {
        if (tocItems.length === 0) return;
        
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const offset = 100;
        
        let activeItem = null;
        
        for (let i = tocItems.length - 1; i >= 0; i--) {
          const item = tocItems[i];
          const element = item.element;
          if (element && element.offsetTop <= scrollTop + offset) {
            activeItem = item;
            break;
          }
        }
        
        if (!activeItem && tocItems.length > 0) {
          activeItem = tocItems[0];
        }
        
        const tocLinks = document.querySelectorAll('#toc-list a');
        tocLinks.forEach(link => {
          link.classList.remove('active');
          if (activeItem && link.getAttribute('href') === `#${activeItem.id}`) {
            link.classList.add('active');
          }
        });
      }

      // Add copy buttons to code blocks
      function addCopyButtons() {
        const codeBlocks = document.querySelectorAll('pre');
        
        codeBlocks.forEach(block => {
          const container = document.createElement('div');
          container.className = 'code-container';
          
          block.parentNode.insertBefore(container, block);
          container.appendChild(block);
          
          const button = document.createElement('button');
          button.className = 'copy-button';
          button.textContent = 'Copy';
          button.onclick = function() {
            copyToClipboard(block.textContent, button);
          };
          
          container.appendChild(button);
        });
      }

      // Copy text to clipboard
      function copyToClipboard(text, button) {
        navigator.clipboard.writeText(text).then(function() {
          button.textContent = 'Copied!';
          button.classList.add('copied');
          
          setTimeout(function() {
            button.textContent = 'Copy';
            button.classList.remove('copied');
          }, 2000);
        }).catch(function(err) {
          console.error('Could not copy text: ', err);
          button.textContent = 'Error';
          
          setTimeout(function() {
            button.textContent = 'Copy';
          }, 2000);
        });
      }

      // Update active navigation item
      function updateActiveNavItem(url) {
        const navLinks = document.querySelectorAll('.sidebar-nav a');
        navLinks.forEach(link => {
          link.classList.remove('active');
        });
        
        const currentLink = document.querySelector('.sidebar-nav a[href="#/"]');
        if (currentLink) {
          currentLink.classList.add('active');
        }
      }

      // Image modal functions
      function openImageModal(src) {
        const modal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        modalImage.src = src;
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }

      function closeImageModal() {
        const modal = document.getElementById('imageModal');
        modal.classList.remove('active');
        document.body.style.overflow = 'auto';
      }

      // Handle hash changes
      window.addEventListener('hashchange', function() {
        const hash = window.location.hash;
        if (hash && hash.startsWith('#') && hash.length > 1) {
          const id = hash.substring(1);
          scrollToHeading(id);
        }
      });

      // Handle initial hash
      window.addEventListener('load', function() {
        const hash = window.location.hash;
        if (hash && hash.startsWith('#') && hash.length > 1) {
          setTimeout(() => {
            const id = hash.substring(1);
            scrollToHeading(id);
          }, 500);
        }
      });

        // Generate Table of Contents
function generateTOC() {
  const tocList = document.getElementById('toc-list');
  const headings = document.querySelectorAll('#markdown-content h1, #markdown-content h2, #markdown-content h3, #markdown-content h4, #markdown-content h5, #markdown-content h6');
  
  tocList.innerHTML = '';
  
  headings.forEach((heading, index) => {
    const level = parseInt(heading.tagName.charAt(1));
    const text = heading.textContent.trim();
    const id = `heading-${index}`;
    
    // Add ID to heading for linking
    heading.id = id;
    
    // Create TOC item
    const li = document.createElement('li');
    const a = document.createElement('a');
    a.href = `#${id}`;
    a.textContent = text;
    a.className = `toc-h${level}`;
    
    // Add click handler for smooth scrolling
    a.addEventListener('click', (e) => {
      e.preventDefault();
      heading.scrollIntoView({ behavior: 'smooth' });
    });
    
    li.appendChild(a);
    tocList.appendChild(li);
  });
}

// Update active navigation
function updateActiveNav() {
  const navLinks = document.querySelectorAll('.sidebar-nav a');
  navLinks.forEach(link => {
    link.classList.remove('active');
  });
  
  // Add active class to current page (this is a simple implementation)
  const currentPath = window.location.hash || '#/';
  const activeLink = document.querySelector(`a[href="${currentPath}"]`);
  if (activeLink) {
    activeLink.classList.add('active');
  }
}

      // Utility functions
      window.githubGuides = {
        loadMarkdown: loadMarkdown,
        toggleTheme: toggleTheme,
        toggleSidebar: toggleSidebar,
        scrollToHeading: scrollToHeading
      };
    </script>
  </body>
</html>
